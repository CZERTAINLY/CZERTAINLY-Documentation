"use strict";(self.webpackChunkczertainly=self.webpackChunkczertainly||[]).push([[2207],{79407:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>l});var i=t(85893),o=t(11151);const s={},r="Testing Integration",a={id:"certificate-key/integration-guides/adcs/test-integration",title:"Testing Integration",description:"Testing WinRM connection",source:"@site/docs/10-certificate-key/20-integration-guides/14-adcs/13-test-integration.md",sourceDirName:"10-certificate-key/20-integration-guides/14-adcs",slug:"/certificate-key/integration-guides/adcs/test-integration",permalink:"/docs/certificate-key/integration-guides/adcs/test-integration",draft:!1,unlisted:!1,editUrl:"https://github.com/3KeyCompany/CZERTAINLY-Documentation/edit/documentation/docs/10-certificate-key/20-integration-guides/14-adcs/13-test-integration.md",tags:[],version:"current",sidebarPosition:13,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Create User",permalink:"/docs/certificate-key/integration-guides/adcs/create-user"},next:{title:"Troubleshooting",permalink:"/docs/certificate-key/integration-guides/adcs/troubleshooting"}},c={},l=[{value:"Testing WinRM connection",id:"testing-winrm-connection",level:2},{value:"Testing remoting over SSH",id:"testing-remoting-over-ssh",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,o.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"testing-integration",children:"Testing Integration"}),"\n",(0,i.jsx)(n.h2,{id:"testing-winrm-connection",children:"Testing WinRM connection"}),"\n",(0,i.jsx)(n.p,{children:"To test the correct setup of WinRM, the server can be accessed over WinRM from any Windows Machine with PowerShell using the following command:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-powershell",children:"Enter-PSSession `\n  -ComputerName \u201cMachine IP or Name\u201d `\n  -Credential \u201cDomain\\User Name\u201d `\n  -Authentication CredSSP\n"})}),"\n",(0,i.jsxs)(n.p,{children:["For more information on the ",(0,i.jsx)(n.code,{children:"Enter-PSSession"})," command, see the ",(0,i.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/enter-pssession",children:"official documentation"}),"."]}),"\n",(0,i.jsx)(n.admonition,{title:"Linux client",type:"info",children:(0,i.jsxs)(n.p,{children:["The PowerShell remoting is also supported on Linux. You can install PowerShell on Linux by following the ",(0,i.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/powershell/scripting/install/installing-powershell-on-linux?view=powershell-7.4",children:"official documentation"}),".\nConfiguration of the PowerShell remoting on Linux might differ based on the distribution. The CredSSP authentication is not supported on Linux PowerShell."]})}),"\n",(0,i.jsxs)(n.p,{children:["On Linux, you can use the ",(0,i.jsx)(n.code,{children:"pywinrm"})," Python module to test the connection:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import winrm\np = winrm.Protocol(\n    endpoint='Machine IP or Name',\n    transport='credssp',\n    username='username',\n    password='password')\n"})}),"\n",(0,i.jsxs)(n.p,{children:["For more information on the ",(0,i.jsx)(n.code,{children:"pywinrm"})," module, see the ",(0,i.jsx)(n.a,{href:"https://github.com/diyan/pywinrm/",children:"official documentation"}),"."]}),"\n",(0,i.jsxs)(n.admonition,{title:"Trusted hosts on Windows",type:"tip",children:[(0,i.jsx)(n.p,{children:"Be aware, that by default WinRM client configuration only allows Kerberos authentication to not known hosts (not in domain). To add your server to the trusted hosts on the client Windows machine run the following command:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-powershell",children:"Set-Item WSMan:localhost\\client\\trustedhosts -value \u201cMachine IP or Name\u201d\n"})})]}),"\n",(0,i.jsx)(n.h2,{id:"testing-remoting-over-ssh",children:"Testing remoting over SSH"}),"\n",(0,i.jsx)(n.p,{children:"To test the correct setup of remoting over SSH, the server can be accessed over SSH from any Linux machine with PowerShell using the following command:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-powershell",children:"Enter-PSSession `\n  -HostName \u201cMachine IP or Name\u201d `\n  -UserName \u201cDomain\\User Name\u201d `\n  -KeyFilePath \u201cPath to private key\u201d `\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You can also use any SSH client to test the connection using standard commands like ",(0,i.jsx)(n.code,{children:"ssh"})," or ",(0,i.jsx)(n.code,{children:"putty"}),", for example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'ssh -i "Path to private key" "Domain\\User Name@Machine IP or Name"\n'})})]})}function h(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},11151:(e,n,t)=>{t.d(n,{a:()=>r});var i=t(67294);const o={},s=i.createContext(o);function r(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}}}]);