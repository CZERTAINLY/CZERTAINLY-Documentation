"use strict";(self.webpackChunkczertainly=self.webpackChunkczertainly||[]).push([[5158],{90013:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>d,frontMatter:()=>o,metadata:()=>r,toc:()=>l});var i=t(85893),c=t(11151);const o={},s="Health Interface",r={id:"certificate-key/connectors/common-interfaces/health-interface",title:"Health Interface",description:"Overview",source:"@site/docs/10-certificate-key/12-connectors/10-common-interfaces/06-health-interface.md",sourceDirName:"10-certificate-key/12-connectors/10-common-interfaces",slug:"/certificate-key/connectors/common-interfaces/health-interface",permalink:"/docs/certificate-key/connectors/common-interfaces/health-interface",draft:!1,unlisted:!1,editUrl:"https://github.com/3KeyCompany/CZERTAINLY-Documentation/edit/documentation/docs/10-certificate-key/12-connectors/10-common-interfaces/06-health-interface.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Info Interface",permalink:"/docs/certificate-key/connectors/common-interfaces/info-interface"},next:{title:"Attributes Interface",permalink:"/docs/certificate-key/connectors/common-interfaces/attributes-interface"}},a={},l=[{value:"Overview",id:"overview",level:2},{value:"How it works",id:"how-it-works",level:2},{value:"Health-check information",id:"health-check-information",level:2},{value:"Processes",id:"processes",level:2},{value:"Health-check",id:"health-check",level:3},{value:"Specification and example",id:"specification-and-example",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",object:"object",p:"p",ul:"ul",...(0,c.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"health-interface",children:"Health Interface"}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsxs)(n.p,{children:["Each ",(0,i.jsx)(n.code,{children:"Connector"})," has to implement the ",(0,i.jsx)(n.code,{children:"Health"})," interface. This interface provides information about the status of services on which the ",(0,i.jsx)(n.code,{children:"Connector"})," depends like database, HSM and so on. Although it is mandatory to implement ",(0,i.jsx)(n.code,{children:"Health"})," interface, it is fully up to the ",(0,i.jsx)(n.code,{children:"Connector"})," implementation what information will be provided."]}),"\n",(0,i.jsx)(n.h2,{id:"how-it-works",children:"How it works"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"Health"})," interface provides current information about the status of the services provided by the ",(0,i.jsx)(n.code,{children:"Connector"})," whenever it is requested.\nTypically, when you would like to access details of the ",(0,i.jsx)(n.code,{children:"Connector"}),", you can request information about its status."]}),"\n",(0,i.jsx)(n.h2,{id:"health-check-information",children:"Health-check information"}),"\n",(0,i.jsx)(n.p,{children:"The status information contains the following structure:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["overall status of the ",(0,i.jsx)(n.code,{children:"Connector"})]}),"\n",(0,i.jsx)(n.li,{children:"partial information about the service (which can contain any information and status)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The status can be one of the following:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)("span",{class:"badge badge--success",children:"ok"})," - service is running as expected"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)("span",{class:"badge badge--danger",children:"nok"})," - there is a problem with the service, you should check the ",(0,i.jsx)(n.code,{children:"Connector"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)("span",{class:"badge badge--secondary",children:"unknown"})," - status information not available"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"processes",children:"Processes"}),"\n",(0,i.jsx)(n.h3,{id:"health-check",children:"Health-check"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"Client"})," with proper permissions can request health-check of the ",(0,i.jsx)(n.code,{children:"Connectors"})," and invoke API that works with the ",(0,i.jsx)(n.code,{children:"Health"})," interface of the ",(0,i.jsx)(n.code,{children:"Connector"}),".\nThe following diagrams represents the requests and communication flow."]}),"\n",(0,i.jsx)(n.object,{type:"image/svg+xml",data:"https://www.plantuml.com/plantuml/svg/RL0xJmCn3Dxv5PPOkMQ_eIgw0HX0YBNgO79kBsfYdnod4lnwb71z8E7jax-N3G2moOPg9SKx000i9bpI9sc3-HXuHiK49dFH29FPd7ldHl5vvRz93GF7hvMNv70Ehgdg334GMxTU3w84swqNfSuBCtaJTVU61pUSOVUAZ0TALV7u_k9a9aKBmivFv8_FXD6ctQw7eKBunI1xGBXuN9DhKirT5lsPtxmkj3Sn0ZcHDi733Vs93BAXbGo1zwAfLQbnDj4r491729OXavw2ftpJu7pNSdyF7sH5UR7zMxLoshF-Oss8nvBY3m00"}),"\n",(0,i.jsx)(n.h2,{id:"specification-and-example",children:"Specification and example"}),"\n",(0,i.jsxs)(n.p,{children:["You can find specification and information about the ",(0,i.jsx)(n.code,{children:"Health"})," interface on the following locations:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/api/core-connector/",children:"Core Connector API"})}),"\n",(0,i.jsxs)(n.li,{children:["Connector API specifications, see for example ",(0,i.jsx)(n.a,{href:"/api/connector-authority-provider-v2/",children:"Authority Provider"})]}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,c.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},11151:(e,n,t)=>{t.d(n,{Z:()=>r,a:()=>s});var i=t(67294);const c={},o=i.createContext(c);function s(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:s(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);