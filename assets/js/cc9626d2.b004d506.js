"use strict";(self.webpackChunkczertainly=self.webpackChunkczertainly||[]).push([[7790],{8391:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>o,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>c,toc:()=>l});var s=i(85893),n=i(11151);const r={},a="Create Trusted Certificates",c={id:"certificate-key/installation-guide/create-trusted-certificates",title:"Create Trusted Certificates",description:"Publicly trusted certificates are included in the system trust store by default. Such certificates do not need to be included in the trusted certificates as the system will automatically consider them as trusted.",source:"@site/docs/10-certificate-key/03-installation-guide/03-create-trusted-certificates.md",sourceDirName:"10-certificate-key/03-installation-guide",slug:"/certificate-key/installation-guide/create-trusted-certificates",permalink:"/docs/certificate-key/installation-guide/create-trusted-certificates",draft:!1,unlisted:!1,editUrl:"https://github.com/3KeyCompany/CZERTAINLY-Documentation/edit/documentation/docs/10-certificate-key/03-installation-guide/03-create-trusted-certificates.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Database Setup",permalink:"/docs/certificate-key/installation-guide/database-setup"},next:{title:"Deployment Options",permalink:"/docs/certificate-key/installation-guide/deployment/deployment-options"}},o={},l=[{value:"Mandatory certificates in the list",id:"mandatory-certificates-in-the-list",level:2},{value:"Changing trusted certificates",id:"changing-trusted-certificates",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...(0,n.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"create-trusted-certificates",children:"Create Trusted Certificates"}),"\n",(0,s.jsx)(t.admonition,{title:"Publicly trusted certificates",type:"success",children:(0,s.jsx)(t.p,{children:"Publicly trusted certificates are included in the system trust store by default. Such certificates do not need to be included in the trusted certificates as the system will automatically consider them as trusted."})}),"\n",(0,s.jsx)(t.p,{children:"In order to establish trust with internal certificates, we need to create set of trusted certificates.\nThis set includes:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"CA certificates issuing client certificates for authentication to the platform"}),"\n",(0,s.jsx)(t.li,{children:"CA certificates that issued infrastructure certificates to establish authenticated TLS connection"}),"\n",(0,s.jsx)(t.li,{children:"any other certificate that should be trusted between the services and integrated technologies"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Trusted certificates are configured in the platform through the list of PEM-encoded certificates:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"in Ingress resources to authenticate users provided client-certificate"}),"\n",(0,s.jsxs)(t.li,{children:["in ",(0,s.jsx)(t.code,{children:"Core"})," service to trust internally managed CA certificates"]}),"\n",(0,s.jsxs)(t.li,{children:["in ",(0,s.jsx)(t.code,{children:"Connectors"})," to establish trust with the technology"]}),"\n"]}),"\n",(0,s.jsx)(t.admonition,{title:"Different set of trusted certificates for different services",type:"info",children:(0,s.jsxs)(t.p,{children:["The list of trusted certificates is globally applied to all services that supports custom trust lists. However, it is possible to apply different sets of trusted certificates to different services. In such case, the trusted certificates should not be configured as a global parameter for the Helm chart, but instead included as a parameter for each particular chart and sub-chart. See ",(0,s.jsx)(t.a,{href:"https://github.com/3KeyCompany/CZERTAINLY-Helm-Charts",children:"CZERTAINLY-Helm-Charts"})," for more information."]})}),"\n",(0,s.jsx)(t.h2,{id:"mandatory-certificates-in-the-list",children:"Mandatory certificates in the list"}),"\n",(0,s.jsx)(t.p,{children:"The list of trusted certificate must always include at least the following certificates:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"CA certificates issuing client certificates for authentication to the platform"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Therefore, the set of trusted certificates must always contain at least one item."})}),"\n",(0,s.jsx)(t.h2,{id:"changing-trusted-certificates",children:"Changing trusted certificates"}),"\n",(0,s.jsxs)(t.p,{children:["When you need to change the list of trusted certificates (add / remove trusted certificates), the changes must be applied to the deployment of the platform.\nThis is done automatically installing and upgrading using ",(0,s.jsx)(t.a,{href:"deployment/deployment-helm/overview",children:"Helm chart"}),"."]}),"\n",(0,s.jsx)(t.admonition,{title:"Management of trusted certificates",type:"warning",children:(0,s.jsx)(t.p,{children:"Be sure that all changes in the list of trusted certificates are properly propagated in the deployment when managing the list manually or externally to Helm chart."})})]})}function u(e={}){const{wrapper:t}={...(0,n.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},11151:(e,t,i)=>{i.d(t,{Z:()=>c,a:()=>a});var s=i(67294);const n={},r=s.createContext(n);function a(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);