"use strict";(self.webpackChunkczertainly=self.webpackChunkczertainly||[]).push([[7221],{34665:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>c});var n=t(85893),r=t(11151);const s={},a="Create Super Administrator",o={id:"certificate-key/installation-guide/create-super-administrator",title:"Create Super Administrator",description:"When you deploy the platform for the first time, there are no Super Administrators and Administrators registered.",source:"@site/docs/10-certificate-key/03-installation-guide/05-create-super-administrator.md",sourceDirName:"10-certificate-key/03-installation-guide",slug:"/certificate-key/installation-guide/create-super-administrator",permalink:"/docs/certificate-key/installation-guide/create-super-administrator",draft:!1,unlisted:!1,editUrl:"https://github.com/3KeyCompany/CZERTAINLY-Documentation/edit/documentation/docs/10-certificate-key/03-installation-guide/05-create-super-administrator.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Operations",permalink:"/docs/certificate-key/installation-guide/deployment/deployment-appliance/operations"},next:{title:"Overview",permalink:"/docs/certificate-key/quick-start/overview"}},l={},c=[{value:"Register first Administrator",id:"register-first-administrator",level:2}];function d(e){const i={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.h1,{id:"create-super-administrator",children:"Create Super Administrator"}),"\n",(0,n.jsx)(i.p,{children:"When you deploy the platform for the first time, there are no Super Administrators and Administrators registered."}),"\n",(0,n.jsxs)(i.p,{children:["To register the first Administrator, you need to use ",(0,n.jsx)(i.code,{children:"Local API"}),", which is accessible only from the ",(0,n.jsx)(i.code,{children:"localhost"})," of the ",(0,n.jsx)(i.code,{children:"Core"})," deployment. The ",(0,n.jsx)(i.code,{children:"Local API"})," does not require the X.509 client certificate based authentication."]}),"\n",(0,n.jsx)(i.h2,{id:"register-first-administrator",children:"Register first Administrator"}),"\n",(0,n.jsxs)(i.p,{children:["You can use any tool or command line utility to access the ",(0,n.jsx)(i.code,{children:"Local API"})," and register the first Administrator."]}),"\n",(0,n.jsx)(i.p,{children:"You need to provide the following information:"}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.code,{children:"first-admin.json"})}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-json",children:'{\n   "certificateData": "MIIDPTCCAiUCFBd+dfQuley5j4MetX3iewvIxHZDMA0GCSqGSIb3DQEBCwUAMF0xCzAJBgNVBAYTAkNaMRAwDgYDVQQIDAdDemVjaGlhMQswCQYDVQQHDAJDQjENMAsGA1UECgwEM0tFWTEMMAoGA1UECwwDREVWMRIwEAYDVQQDDAlsb2NhbGhvc3QwHhcNMjAwOTI1MTE1NDU3WhcNMzAwODA0MTE1NDU3WjBZMQswCQYDVQQGEwJDWjEQMA4GA1UECAwHQ3plY2hpYTELMAkGA1UEBwwCQ0IxCzAJBgNVBAoMAkNGMQwwCgYDVQQLDANERVYxEDAOBgNVBAMMB0NMSUVOVDEwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC/SsO+9IzQ85xxyiT+ou8RDNxZMP0Ja8YKrdu19BTFjyLtVLpb+I1XqzlXFdJcObYZ5ZboyALB00i5Ds0TTs8ydgEeaw0K2O96DnGh4z5r4qLuF+fpVR+3A8kKRSrqJN1JNPFeb+NKsilUNvx5plZBm5+VTd64Sop6r1DALEDBS8AxRJSgp4x/oCq+T4zLh9XDyVUQ68axLgF86sS4YcBYKQVTH7KwRx+FGPFnBqt2ll2IherJ1N1dheXdLqzPYY+uIhs55wUPRhQibjiJhM9NgMYsmOPZRzsPIr6+gUil82rmSfyMg/A0wT4dsm6MT7ly6PPRyxoRvhNvfn96FsCRAgMBAAEwDQYJKoZIhvcNAQELBQADggEBAI+YNR82n23p9014wa+99aEWJfujlirY07jhAQmsGTkkFM5QTNJzwi6VYnUwjlJMOXw8fEiBVRHUiyLV5RWZGiGZuLdCZgYCjtzCtWuOPidShAK5GpLDipG9upZ+RCNpBXVbb6J5tEI0esTSxZ/jwj2JqZZayhRmRXL/j8vGRn74atTILeFwUIYsSreoMI8wG1Rk0que09LgP1RmCiSl1GUSTL/lrK/dYaw0orZwUxzKg/KNnTYprYiAIVRsHUz8bkd6mGEBCfDdpEp0l7laBej2R8RhGDwuxjma1ZrwlCsKLlpdn2lwzqIEc+Zl7dxiLTb1NLMH80f4LCuF1iFCD6E=",\n   "certificateUuid": "",\n   "username":"adminadmin",\n   "firstname":"admin",\n   "lastname":"admin",\n   "email":"admin@czertainly.com",\n   "enabled":"true",\n   "description": "First Administrator"\n}\n'})}),"\n",(0,n.jsxs)(i.p,{children:["The following example is using ",(0,n.jsx)(i.code,{children:"curl"}),":"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-bash",children:"curl -X POST \\\n -H 'content-type: application/json' \\\n -d @first-admin.json \\\n https://localhost:8080/api/v1/local/admins \n"})}),"\n",(0,n.jsxs)(i.p,{children:["Using the ",(0,n.jsx)(i.code,{children:"wget"}),":"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-bash",children:"wget -O- --header='Content-Type:application/json' \\\n --post-file=first-admin.json \\\n http://localhost:8080/api/v1/local/admins\n"})}),"\n",(0,n.jsx)(i.p,{children:"In this example, the Administrator with the following attributes will be registered in the RA Profiles with the corresponding certificate:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Firstname:"})," admin"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Lastname:"})," admin"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Username:"})," adminadmin"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Email:"})," ",(0,n.jsx)(i.a,{href:"mailto:admin@czertainly.com",children:"admin@czertainly.com"})]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Role:"})," ",(0,n.jsx)(i.code,{children:"SUPERADMINISTRATOR"})]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Description:"})," First Administrator"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsx)("span",{class:"badge badge--success",children:"ENABLED"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(i.p,{children:["You can use ",(0,n.jsx)(i.code,{children:"Local API"})," multiple times, also in case you are locked out from the application."]}),"\n",(0,n.jsx)(i.admonition,{type:"warning",children:(0,n.jsxs)(i.p,{children:["Use the ",(0,n.jsx)(i.code,{children:"Local API"})," carefully, manage access to ",(0,n.jsx)(i.code,{children:"localhost"})," of the system to avoid registration of unwanted Administrators."]})})]})}function h(e={}){const{wrapper:i}={...(0,r.a)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},11151:(e,i,t)=>{t.d(i,{a:()=>a});var n=t(67294);const r={},s=n.createContext(r);function a(e){const i=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}}}]);