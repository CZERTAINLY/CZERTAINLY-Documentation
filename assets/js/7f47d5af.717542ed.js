"use strict";(self.webpackChunkczertainly=self.webpackChunkczertainly||[]).push([[7221],{14326:function(e,n,i){i.r(n),i.d(n,{assets:function(){return c},contentTitle:function(){return o},default:function(){return h},frontMatter:function(){return s},metadata:function(){return a},toc:function(){return l}});var t=i(85893),r=i(11151);const s={},o="Create Super Administrator",a={id:"certificate-key/installation-guide/create-super-administrator",title:"Create Super Administrator",description:"When you deploy the platform for the first time, there are no Super Administrators and Administrators registered.",source:"@site/docs/10-certificate-key/03-installation-guide/05-create-super-administrator.md",sourceDirName:"10-certificate-key/03-installation-guide",slug:"/certificate-key/installation-guide/create-super-administrator",permalink:"/docs/certificate-key/installation-guide/create-super-administrator",draft:!1,unlisted:!1,editUrl:"https://github.com/3KeyCompany/CZERTAINLY-Documentation/edit/documentation/docs/10-certificate-key/03-installation-guide/05-create-super-administrator.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Operations",permalink:"/docs/certificate-key/installation-guide/deployment/deployment-appliance/operations"},next:{title:"Overview",permalink:"/docs/certificate-key/quick-start/overview"}},c={},l=[{value:"Register first Administrator",id:"register-first-administrator",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"create-super-administrator",children:"Create Super Administrator"}),"\n",(0,t.jsx)(n.p,{children:"When you deploy the platform for the first time, there are no Super Administrators and Administrators registered."}),"\n",(0,t.jsxs)(n.p,{children:["To register the first Administrator, you need to use ",(0,t.jsx)(n.code,{children:"Local API"}),", which is accessible only from the ",(0,t.jsx)(n.code,{children:"localhost"})," of the ",(0,t.jsx)(n.code,{children:"Core"})," deployment. The ",(0,t.jsx)(n.code,{children:"Local API"})," does not require the X.509 client certificate based authentication."]}),"\n",(0,t.jsx)(n.h2,{id:"register-first-administrator",children:"Register first Administrator"}),"\n",(0,t.jsxs)(n.p,{children:["You can use any tool or command line utility to access the ",(0,t.jsx)(n.code,{children:"Local API"})," and register the first Administrator."]}),"\n",(0,t.jsx)(n.p,{children:"You need to provide the following information:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"first-admin.json"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n   "certificateData": "MIIDPTCCAiUCFBd+dfQuley5j4MetX3iewvIxHZDMA0GCSqGSIb3DQEBCwUAMF0xCzAJBgNVBAYTAkNaMRAwDgYDVQQIDAdDemVjaGlhMQswCQYDVQQHDAJDQjENMAsGA1UECgwEM0tFWTEMMAoGA1UECwwDREVWMRIwEAYDVQQDDAlsb2NhbGhvc3QwHhcNMjAwOTI1MTE1NDU3WhcNMzAwODA0MTE1NDU3WjBZMQswCQYDVQQGEwJDWjEQMA4GA1UECAwHQ3plY2hpYTELMAkGA1UEBwwCQ0IxCzAJBgNVBAoMAkNGMQwwCgYDVQQLDANERVYxEDAOBgNVBAMMB0NMSUVOVDEwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC/SsO+9IzQ85xxyiT+ou8RDNxZMP0Ja8YKrdu19BTFjyLtVLpb+I1XqzlXFdJcObYZ5ZboyALB00i5Ds0TTs8ydgEeaw0K2O96DnGh4z5r4qLuF+fpVR+3A8kKRSrqJN1JNPFeb+NKsilUNvx5plZBm5+VTd64Sop6r1DALEDBS8AxRJSgp4x/oCq+T4zLh9XDyVUQ68axLgF86sS4YcBYKQVTH7KwRx+FGPFnBqt2ll2IherJ1N1dheXdLqzPYY+uIhs55wUPRhQibjiJhM9NgMYsmOPZRzsPIr6+gUil82rmSfyMg/A0wT4dsm6MT7ly6PPRyxoRvhNvfn96FsCRAgMBAAEwDQYJKoZIhvcNAQELBQADggEBAI+YNR82n23p9014wa+99aEWJfujlirY07jhAQmsGTkkFM5QTNJzwi6VYnUwjlJMOXw8fEiBVRHUiyLV5RWZGiGZuLdCZgYCjtzCtWuOPidShAK5GpLDipG9upZ+RCNpBXVbb6J5tEI0esTSxZ/jwj2JqZZayhRmRXL/j8vGRn74atTILeFwUIYsSreoMI8wG1Rk0que09LgP1RmCiSl1GUSTL/lrK/dYaw0orZwUxzKg/KNnTYprYiAIVRsHUz8bkd6mGEBCfDdpEp0l7laBej2R8RhGDwuxjma1ZrwlCsKLlpdn2lwzqIEc+Zl7dxiLTb1NLMH80f4LCuF1iFCD6E=",\n   "certificateUuid": "",\n   "username":"adminadmin",\n   "firstname":"admin",\n   "lastname":"admin",\n   "email":"admin@czertainly.com",\n   "enabled":"true",\n   "description": "First Administrator"\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:["The following example is using ",(0,t.jsx)(n.code,{children:"curl"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"curl -X POST \\\n -H 'content-type: application/json' \\\n -d @first-admin.json \\\n https://localhost:8080/api/v1/local/admins \n"})}),"\n",(0,t.jsxs)(n.p,{children:["Using the ",(0,t.jsx)(n.code,{children:"wget"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"wget -O- --header='Content-Type:application/json' \\\n --post-file=first-admin.json \\\n http://localhost:8080/api/v1/local/admins\n"})}),"\n",(0,t.jsx)(n.p,{children:"In this example, the Administrator with the following attributes will be registered in the RA Profiles with the corresponding certificate:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Firstname:"})," admin"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Lastname:"})," admin"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Username:"})," adminadmin"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Email:"})," ",(0,t.jsx)(n.a,{href:"mailto:admin@czertainly.com",children:"admin@czertainly.com"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Role:"})," ",(0,t.jsx)(n.code,{children:"SUPERADMINISTRATOR"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Description:"})," First Administrator"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)("span",{class:"badge badge--success",children:"ENABLED"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["You can use ",(0,t.jsx)(n.code,{children:"Local API"})," multiple times, also in case you are locked out from the application."]}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsxs)(n.p,{children:["Use the ",(0,t.jsx)(n.code,{children:"Local API"})," carefully, manage access to ",(0,t.jsx)(n.code,{children:"localhost"})," of the system to avoid registration of unwanted Administrators."]})})]})}function h(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},11151:function(e,n,i){i.d(n,{Z:function(){return a},a:function(){return o}});var t=i(67294);const r={},s=t.createContext(r);function o(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);