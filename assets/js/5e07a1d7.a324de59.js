"use strict";(self.webpackChunkczertainly=self.webpackChunkczertainly||[]).push([[1980],{16465:(e,n,t)=>{t.r(n),t.d(n,{GenTable:()=>h,assets:()=>c,contentTitle:()=>o,data:()=>l,default:()=>p,frontMatter:()=>a,metadata:()=>d,toc:()=>g});var i=t(74848),r=t(28453),s=t(96540);const a={},o="Dynamic Configuration Signer",d={id:"signing/sam-integration/entrust-sam/dynamic-config-signer-properties",title:"Dynamic Configuration Signer",description:"The Dynamic Configuration Signer is a special implementation of the Signer that can be used to sign and apply dynamic configuration for the Entrust SAM.",source:"@site/docs/30-signing/30-sam-integration/07-entrust-sam/09-dynamic-config-signer-properties.mdx",sourceDirName:"30-signing/30-sam-integration/07-entrust-sam",slug:"/signing/sam-integration/entrust-sam/dynamic-config-signer-properties",permalink:"/docs/signing/sam-integration/entrust-sam/dynamic-config-signer-properties",draft:!1,unlisted:!1,editUrl:"https://github.com/3KeyCompany/CZERTAINLY-Documentation/edit/documentation/docs/30-signing/30-sam-integration/07-entrust-sam/09-dynamic-config-signer-properties.mdx",tags:[],version:"current",sidebarPosition:9,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Internal SAD Provider",permalink:"/docs/signing/sam-integration/entrust-sam/sad-providers/internal"},next:{title:"Entrust SAM Sample Configuration",permalink:"/docs/signing/sam-integration/entrust-sam/samples/sample-configuration"}},c={},l=[{property:"ENTRUST_SAM_SERVER",description:(0,i.jsxs)(i.Fragment,{children:["End point to access Entrust SAM administrative functions. The value of Entrust SAM Server should be specified if you would like to apply the dynamic configuration in the form ",(0,i.jsx)("b",{children:"https://[ip address or hostname]:[port]"}),"."]}),default:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("span",{class:"badge badge--secondary",children:"NONE"})}),mandatory:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("span",{class:"badge badge--danger",children:"NO"})})},{property:"ENTRUST_TRUST_SELF_SIGNED",description:(0,i.jsx)(i.Fragment,{children:"True if the self-signed certificate of the Entrust SAM server can be trusted. False otherwise."}),default:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("span",{class:"badge badge--secondary",children:"false"})}),mandatory:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("span",{class:"badge badge--danger",children:"NO"})})},{property:"ENTRUST_CONNECTION_POOL_SIZE",description:(0,i.jsx)(i.Fragment,{children:"Number as the maximum size of the pooled connections with the Entrust SAM. This value can be fine-tuned to optimize the performance of the signing process."}),default:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("span",{class:"badge badge--secondary",children:"30"})}),mandatory:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("span",{class:"badge badge--danger",children:"NO"})})},{property:"OTHER_SIGNERS",description:(0,i.jsx)(i.Fragment,{children:"Sets the reference to the Crypto Token containing the key that is used to authenticate to the Entrust SAM. Only one value should be specified for this attribute. In case it contains multiple comma separated references to Crypto Token, the first one is taken."}),default:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("span",{class:"badge badge--secondary",children:"NONE"})}),mandatory:(0,i.jsxs)(i.Fragment,{children:["Must be present when ",(0,i.jsx)("b",{children:"ENTRUST_SAM_SERVER"})," is specified."]})},{property:"ENTRUST_CLIENT_AUTHENTICATION_KEY_ALIAS",description:(0,i.jsxs)(i.Fragment,{children:["Identification of the key, based on alias, that should be used to authenticate to the Entrust SAM interface. The key alias is taken from the ",(0,i.jsx)("b",{children:"OTHER_SIGNERS"})," Crypto Token configuration. The specified key should authorize Operation Privileged User."]}),default:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("span",{class:"badge badge--secondary",children:"NONE"})}),mandatory:(0,i.jsxs)(i.Fragment,{children:["Must be present when ",(0,i.jsx)("b",{children:"ENTRUST_SAM_SERVER"})," is specified."]})}],h=({data:e})=>{const n={b:"b",td:"td",tr:"tr",...(0,r.R)()};return(0,i.jsx)(s.Fragment,{children:e.map(((e,t)=>(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.b,{children:e.property})}),(0,i.jsx)(n.td,{children:e.description}),(0,i.jsx)(n.td,{children:e.default}),(0,i.jsx)(n.td,{children:e.mandatory})]},t)))})},g=[{value:"Request Metadata",id:"request-metadata",level:2}];function u(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"dynamic-configuration-signer",children:"Dynamic Configuration Signer"}),"\n",(0,i.jsx)(n.p,{children:"The Dynamic Configuration Signer is a special implementation of the Signer that can be used to sign and apply dynamic configuration for the Entrust SAM."}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"This implementation is compliant with the Entrust SAM version 1.0.3.\nFor more information about the dynamic configuration, please refer to the official Entrust SAM documentation."})}),"\n",(0,i.jsx)(n.p,{children:"The implementation class that must be specified for the Signer is:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"com.czertainly.signserver.module.entrustsam.signer.DynamicConfigSigner\n"})}),"\n",(0,i.jsx)(n.p,{children:"The Dynamic Configuration Signer has the following modes of operation:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"sign only"}),", in which case the signer will only sign the configuration using the Operation Privileged User private key and return the JWS"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"sign and apply"}),", in which case the signer will sign the configuration using the Operation Privileged User private key and apply the configuration to the Entrust SAM. The Signer will return the JWS of the current configuration."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The mode can be specified using the ",(0,i.jsx)(n.a,{href:"#request-metadata",children:"Request Metadata"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"The Dynamic Configuration Signer is configured with the following properties:"}),"\n","\n","\n",(0,i.jsxs)("table",{children:[(0,i.jsx)("th",{children:"Property"}),(0,i.jsx)("th",{children:"Description"}),(0,i.jsx)("th",{children:"Default Value"}),(0,i.jsx)("th",{children:"Mandatory"}),(0,i.jsx)("tbody",{children:(0,i.jsx)(h,{data:l})})]}),"\n",(0,i.jsxs)(n.p,{children:["See the ",(0,i.jsx)(n.a,{href:"./samples/sample-dynamic-config-signer",children:"Dynamic Configuration Signer sample configuration"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"request-metadata",children:"Request Metadata"}),"\n",(0,i.jsxs)(n.p,{children:["Request metadata can be used to control the behavior of the Signer. By default, the Dynamic Configuration Signer is in the ",(0,i.jsx)(n.strong,{children:"sign only"})," mode.\nIf you would like to apply the configuration on the Entrust SAM once it is successfully signed, you can set the ",(0,i.jsx)(n.strong,{children:"sign and apply"})," mode using the following request metadata:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"ENTRUST_SAM_SYNC=true\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Sign and apply"})," mode requires ",(0,i.jsx)(n.code,{children:"ENTRUST_SAM_SERVER"})," to be specified."]})})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var i=t(96540);const r={},s=i.createContext(r);function a(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);