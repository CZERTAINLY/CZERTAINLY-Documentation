"use strict";(self.webpackChunkczertainly=self.webpackChunkczertainly||[]).push([[163],{86165:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>c});var n=i(85893),r=i(11151);const s={},a="Introduction",o={id:"signing/extended-jws-authorizer/overview",title:"Introduction",description:"JSON Web Signature (JWS) represents content secured with digital signatures or Message Authentication Codes (MACs) using JSON-based data structures. JWS are used to exchange authentication and authorization information and identities between various systems supporting OAuth 2.0. Authorization server issues JWS after successful identity verification, and it is validated by the CZERTAINLY Signing that acts as a resource server. JSON-based data structure contains claims to pass information about user and additional information that is required for authorization. The claims are digitally signed and can be verified with the public key and certificate of the resource server. The Extended JWS Authorizer allows having the authorization server separate from the CZERTAINLY Signing application and provides eIDAS compliant authentication and authorization to signing and validation workers using multi-factor authentication (MFA).",source:"@site/docs/30-signing/20-extended-jws-authorizer/01-overview.md",sourceDirName:"30-signing/20-extended-jws-authorizer",slug:"/signing/extended-jws-authorizer/overview",permalink:"/docs/signing/extended-jws-authorizer/overview",draft:!1,unlisted:!1,editUrl:"https://github.com/3KeyCompany/CZERTAINLY-Documentation/edit/documentation/docs/30-signing/20-extended-jws-authorizer/01-overview.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Sample Configuration",permalink:"/docs/signing/saml-authorizer/configuration-sample"},next:{title:"Properties",permalink:"/docs/signing/extended-jws-authorizer/properties"}},d={},c=[{value:"Use case example",id:"use-case-example",level:2},{value:"Authentication and authorization flow",id:"authentication-and-authorization-flow",level:2}];function h(e){const t={a:"a",admonition:"admonition",h1:"h1",h2:"h2",img:"img",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"introduction",children:"Introduction"}),"\n",(0,n.jsx)(t.p,{children:"JSON Web Signature (JWS) represents content secured with digital signatures or Message Authentication Codes (MACs) using JSON-based data structures. JWS are used to exchange authentication and authorization information and identities between various systems supporting OAuth 2.0. Authorization server issues JWS after successful identity verification, and it is validated by the CZERTAINLY Signing that acts as a resource server. JSON-based data structure contains claims to pass information about user and additional information that is required for authorization. The claims are digitally signed and can be verified with the public key and certificate of the resource server. The Extended JWS Authorizer allows having the authorization server separate from the CZERTAINLY Signing application and provides eIDAS compliant authentication and authorization to signing and validation workers using multi-factor authentication (MFA)."}),"\n",(0,n.jsx)(t.admonition,{type:"info",children:(0,n.jsx)(t.p,{children:"The Extended JWS token provides authorization of the signing request and propagates valid claims information into the signing process that can use them in order to perform and configure some specific attributes of certificates."})}),"\n",(0,n.jsx)(t.h2,{id:"use-case-example",children:"Use case example"}),"\n",(0,n.jsxs)(t.p,{children:["There are several authorization servers available compliant to JWS specification according ",(0,n.jsx)(t.a,{href:"https://datatracker.ietf.org/doc/html/rfc7515",children:"RFC 7515"})," and this implementation has been tested according that. The following use case example outlines authenticating authorization server to obtain JWS, then used it in the request sent from the client to CZERTAINLY Signing. The client in the following overview could, for example, be an mobile application communicating with a document management system or remote signing backend."]}),"\n",(0,n.jsx)("div",{class:"text--center",children:(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Extended JWS authorization flow",src:i(11541).Z+"",title:"Extended JWS authorization flow",width:"728",height:"358"})})}),"\n",(0,n.jsx)(t.h2,{id:"authentication-and-authorization-flow",children:"Authentication and authorization flow"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Step"}),(0,n.jsx)(t.th,{children:"Name"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"1"}),(0,n.jsx)(t.td,{children:"Public key of the authorization server distribution"}),(0,n.jsx)(t.td,{children:"The worker in CZERTAINLY Signing is configured to trust the public key of the authorization server. Authorization rules matching claims of the JWS are also configured."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"2"}),(0,n.jsx)(t.td,{children:"Client or user sends the request to consume service"}),(0,n.jsx)(t.td,{children:"The user requests signing or validation services from signing backend."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"3"}),(0,n.jsx)(t.td,{children:"Authentication requested"}),(0,n.jsx)(t.td,{children:"The signing backend request for authentication from authorization server providing details about the user\u2019s authentication domain."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"4"}),(0,n.jsx)(t.td,{children:"Authorization server provides authentication context"}),(0,n.jsx)(t.td,{children:"The authentication context for the user is provided."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"5"}),(0,n.jsx)(t.td,{children:"Authentication context forwarder to user"}),(0,n.jsx)(t.td,{children:"The user receives the authentication context that should be used in order to authenticate to the service from authorization server. Context is used by the user."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"6"}),(0,n.jsx)(t.td,{children:"Authentication of the user"}),(0,n.jsx)(t.td,{children:"User authenticates using credentials with the authorization server. When MFA is enabled, there may be multiple rounds in the authentication process."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"7"}),(0,n.jsx)(t.td,{children:"Producing JWS"}),(0,n.jsx)(t.td,{children:"Upon successful authentication, the user receives the JWS from the authorization server."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"8"}),(0,n.jsx)(t.td,{children:"Forward JWS"}),(0,n.jsx)(t.td,{children:"User forwards the JWS as a proof of successful authentication and authorization for signing / validation request."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"9"}),(0,n.jsx)(t.td,{children:"Request to sign / validate"}),(0,n.jsx)(t.td,{children:"The request with the JWS is submitted to CZERTAINLY Signing."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"10"}),(0,n.jsx)(t.td,{children:"Perform task and provide response"}),(0,n.jsx)(t.td,{children:"CZERTAINLY Signing validates the JWS and its claims to perform the operation and provide a response to signing backend."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"11"}),(0,n.jsx)(t.td,{children:"Response"}),(0,n.jsx)(t.td,{children:"User receives response from CZERTAINLY Signing."})]})]})]})]})}function u(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},11541:(e,t,i)=>{i.d(t,{Z:()=>n});const n=i.p+"assets/images/extendedjws-flow-ae9dd8635cc3f294a4d0177122a5b2a2.png"},11151:(e,t,i)=>{i.d(t,{Z:()=>o,a:()=>a});var n=i(67294);const r={},s=n.createContext(r);function a(e){const t=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),n.createElement(s.Provider,{value:t},e.children)}}}]);