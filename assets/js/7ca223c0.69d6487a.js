"use strict";(self.webpackChunkczertainly=self.webpackChunkczertainly||[]).push([[4799],{50174:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>p,frontMatter:()=>s,metadata:()=>l,toc:()=>h});var i=t(85893),r=t(11151),c=t(99603),a=t(59417);const s={},d="Create Credential",l={id:"certificate-key/quick-start/certificate-management/create-credential",title:"Create Credential",description:"We need to create a username/password Credential to access the MS Windows server.",source:"@site/docs/10-certificate-key/05-quick-start/03-certificate-management/03-create-credential.mdx",sourceDirName:"10-certificate-key/05-quick-start/03-certificate-management",slug:"/certificate-key/quick-start/certificate-management/create-credential",permalink:"/docs/certificate-key/quick-start/certificate-management/create-credential",draft:!1,unlisted:!1,editUrl:"https://github.com/3KeyCompany/CZERTAINLY-Documentation/edit/documentation/docs/10-certificate-key/05-quick-start/03-certificate-management/03-create-credential.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Register Connectors",permalink:"/docs/certificate-key/quick-start/certificate-management/register-connectors"},next:{title:"Create Authority",permalink:"/docs/certificate-key/quick-start/certificate-management/create-authority"}},o={},h=[{value:"Create <code>Credential</code> using the API",id:"create-credential-using-the-api",level:2},{value:"Create <code>Credential</code> using the Web Interface",id:"create-credential-using-the-web-interface",level:2}];function u(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"create-credential",children:"Create Credential"}),"\n","\n","\n",(0,i.jsxs)(n.p,{children:["We need to create a username/password ",(0,i.jsx)(n.code,{children:"Credential"})," to access the MS Windows server.\nThis ",(0,i.jsx)(n.code,{children:"Credential"})," is needed in order to establish authorized connection with the MS CA."]}),"\n",(0,i.jsxs)(n.h2,{id:"create-credential-using-the-api",children:["Create ",(0,i.jsx)(n.code,{children:"Credential"})," using the API"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"Credential"})," can be created using the ",(0,i.jsx)(n.code,{children:"Credential"})," API. However, before creating it, we need know the required ",(0,i.jsx)(n.code,{children:"Attributes"})," for the ",(0,i.jsx)(n.code,{children:"Credential"}),".\nWe can get that using the following request:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X GET \\\n  --cacert [ca-cert] \\\n  --cert [client-cert] \\\n  --cert-type [type] \\\n  -H "Accept: application/json" \\\n  https://[domain]:[port]/api/v1/connectors/93f74f2d-1bc7-4c15-a33e-0bf773b3955a/credentialProvider/Basic/attributes\n  #https://[domain]:[port]/api/v1/connectors/{uuid}/{functionGroup}/{kind}/attributes\n'})}),"\n",(0,i.jsxs)(n.p,{children:["This returns the list of applicable attributes for the ",(0,i.jsx)(n.code,{children:"Credential"})," kind, such as:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'[\n    {\n        "uuid": "fe2d6d35-fb3d-4ea0-9f0b-7e39be93beeb",\n        "name": "username",\n        "label": "Username",\n        "type": "STRING",\n        "required": true,\n        "readOnly": false,\n        "visible": true,\n        "list": false,\n        "description": "Username",\n        "multiSelect": false,\n        "group": "Basic"\n    },\n    {\n        "uuid": "04506d45-c865-4ddc-b6fc-117ee5d5c8e7",\n        "name": "password",\n        "label": "Password",\n        "type": "SECRET",\n        "required": true,\n        "readOnly": false,\n        "visible": true,\n        "list": false,\n        "description": "Password",\n        "multiSelect": false,\n        "group": "Basic"\n    }\n]\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Knowing the attributes, we can create the ",(0,i.jsx)(n.code,{children:"Credential"})," using the following request:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X POST \\\n  --cacert [ca-cert] \\\n  --cert [client-cert] \\\n  --cert-type [type] \\\n  -H "Content-Type: application/json" \\\n  -H "Accept: application/json" \\\n  --data \'\n  {\n    "name": "MS ADCS Basic Credential",\n    "connectorUuid": "93f74f2d-1bc7-4c15-a33e-0bf773b3955a",\n    "kind": "Basic",\n    "attributes": [\n      {\n        "name": "username",\n        "content": {\n          "value": "username"\n        }\n      },\n      {\n        "name": "password",\n        "content": {\n          "value": "password"\n        }\n      }\n    ]\n  }\' \\\n  https://[domain]:[port]/api/v1/credentials\n'})}),"\n",(0,i.jsxs)(n.p,{children:["When the ",(0,i.jsx)(n.code,{children:"Credential"})," is successfully created, its ",(0,i.jsx)(n.code,{children:"uuid"})," is sent back:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "uuid": "4c59aecd-1edc-47ea-b3cb-96a2468315bc"\n}\n'})}),"\n",(0,i.jsxs)(n.h2,{id:"create-credential-using-the-web-interface",children:["Create ",(0,i.jsx)(n.code,{children:"Credential"})," using the Web Interface"]}),"\n",(0,i.jsxs)(n.p,{children:["You can create the ",(0,i.jsx)(n.code,{children:"Credential"})," required for MS ADCS Connector using the following steps:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Log in to the Administration Interface ",(0,i.jsx)(n.code,{children:"https://[domain]:[port]/administrator"})]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Credentails"})," in the left menu"]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Add new Credential"})," (plus symbol ",(0,i.jsx)("span",{style:{color:"#1473b5"},children:(0,i.jsx)(c.G,{icon:a.r8p})}),")"]}),"\n",(0,i.jsxs)(n.li,{children:["Fill the columns with the attributes:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Credential name: ",(0,i.jsx)(n.code,{children:"MS ADCS Basic Credential"})]}),"\n",(0,i.jsxs)(n.li,{children:["Credential Provider: ",(0,i.jsx)(n.code,{children:"Common Credential Provider"})]}),"\n",(0,i.jsxs)(n.li,{children:["Type: ",(0,i.jsx)(n.code,{children:"Basic"})]}),"\n",(0,i.jsxs)(n.li,{children:["Username: ",(0,i.jsx)(n.em,{children:"your system user name"})]}),"\n",(0,i.jsxs)(n.li,{children:["Password: ",(0,i.jsx)(n.em,{children:"your system password"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Create"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"MS ADCS Basic Credential"})," is created."]})]})}function p(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}}}]);