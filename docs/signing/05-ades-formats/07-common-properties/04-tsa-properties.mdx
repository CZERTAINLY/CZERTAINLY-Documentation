import {Fragment} from "react";

# TSA Properties

The following TSA properties are common for all AdES Signers. Each AdES Signer may have additional specific set of properties that are described in the subsequent sections.

export const data = [
    {
        property:
            (
                <>
                    TSA_URL
                    <br/>
                    <div class="alert alert--warning">
                        <b>TSA_URL</b> can not be used together with the <b>TSA_WORKER</b> property!
                    </div>
                </>
            ),
        description:
            (
                <>
                    URL to timestamping authority to include timestamp.
                    Both HTTP and HTTPS is supported for sending the timestamping requests.
                    Basic and certificate-based authentication is supported.
                    <br/>
                    For basic authentication, the following additional properties must be set:
                    <ul>
                        <li><b>TSA_USERNAME</b></li>
                        <li><b>TSA_PASSWORD</b></li>
                    </ul>
                    For certificate-based authentication, the following additional properties must be set:
                    <ul>
                        <li><b>TSA_KEYSTORE_TYPE</b></li>
                        <li><b>TSA_KEYSTORE_FILEPATH</b></li>
                        <li><b>TSA_KEYSTORE_PASSWORD</b></li>
                        <li><b>TSA_TRUSTSTORE_TYPE</b></li>
                        <li><b>TSA_TRUSTSTORE_FILEPATH</b></li>
                        <li><b>TSA_TRUSTSTORE_PASSWORD</b></li>
                    </ul>
                    See <a href="#tsa-authentication-options">TSA Authentication options</a> below.
                </>
            ),
        default:
            (
                <>
                    <span class="badge badge--secondary">NONE</span>
                </>
            ),
        mandatory:
            (
                <>
                    <span class="badge badge--danger">NO</span>
                </>
            ),
        metadata:
            (
                <>
                    <span class="badge badge--danger">NO</span>
                </>
            )
    },
    {
        property:
            (
                <>
                    TSA_WORKER
                    <br/>
                    <div class="alert alert--warning">
                        <b>TSA_WORKER</b> can not be used together with the <b>TSA_URL</b> property!
                    </div>
                </>
            ),
        description:
            (
                <>
                    The name of the Worker to use for the timestamping.
                    <b>TSA_WORKER</b> property should be used only when timestamping is server from the same SignServer.
                </>
            ),
        default:
            (
                <>
                    <span class="badge badge--secondary">NONE</span>
                </>
            ),
        mandatory:
            (
                <>
                    <span class="badge badge--danger">NO</span>
                </>
            ),
        metadata:
            (
                <>
                    <span class="badge badge--danger">NO</span>
                </>
            )
    },
    {
        property: "TSA_DIGESTALGORITHM",
        description:
            (
                <>
                    Digest algorithm to use with the timestamping.
                </>
            ),
        default:
            (
                <>
                    <span class="badge badge--secondary">SHA256</span>
                </>
            ),
        mandatory:
            (
                <>
                    <span class="badge badge--danger">NO</span>
                </>
            ),
        metadata:
            (
                <>
                    <span class="badge badge--danger">NO</span>
                </>
            )
    }
];

export const tsabasic = [
    {
        property: "TSA_USERNAME",
        description:
            (
                <>
                    Username for basic authentication.
                </>
            ),
        default:
            (
                <>
                    <span class="badge badge--secondary">NONE</span>
                </>
            ),
        mandatory:
            (
                <>
                    <span class="badge badge--danger">NO</span>
                </>
            ),
        metadata:
            (
                <>
                    <span class="badge badge--danger">NO</span>
                </>
            )
    },
    {
        property: "TSA_PASSWORD",
        description:
            (
                <>
                    Password for basic authentication.
                </>
            ),
        default:
            (
                <>
                    <span class="badge badge--secondary">NONE</span>
                </>
            ),
        mandatory:
            (
                <>
                    <span class="badge badge--danger">NO</span>
                </>
            ),
        metadata:
            (
                <>
                    <span class="badge badge--danger">NO</span>
                </>
            )
    }
];

export const tsacertificate = [
    {
        property: "TSA_KEYSTORE_TYPE",
        description:
            (
                <>
                    Keystore type for the certificate-based authentication of the TSA.
                    The keystore represents client authentication credentials to be used.
                    Allowed values are:
                    <ul>
                        <li>PKCS#12</li>
                        <li>JKS</li>
                    </ul>
                </>
            ),
        default:
            (
                <>
                    <span class="badge badge--secondary">NONE</span>
                </>
            ),
        mandatory:
            (
                <>
                    <span class="badge badge--danger">NO</span>
                </>
            ),
        metadata:
            (
                <>
                    <span class="badge badge--danger">NO</span>
                </>
            )
    },
    {
        property: "TSA_KEYSTORE_FILEPATH",
        description:
            (
                <>
                    Absolute path to the file on the file system representing the keystore.
                </>
            ),
        default:
            (
                <>
                    <span class="badge badge--secondary">NONE</span>
                </>
            ),
        mandatory:
            (
                <>
                    <span class="badge badge--danger">NO</span>
                </>
            ),
        metadata:
            (
                <>
                    <span class="badge badge--danger">NO</span>
                </>
            )
    },
    {
        property: "TSA_KEYSTORE_PASSWORD",
        description:
            (
                <>
                    Password for the keystore.
                </>
            ),
        default:
            (
                <>
                    <span class="badge badge--secondary">NONE</span>
                </>
            ),
        mandatory:
            (
                <>
                    <span class="badge badge--danger">NO</span>
                </>
            ),
        metadata:
            (
                <>
                    <span class="badge badge--danger">NO</span>
                </>
            )
    },
    {
        property: "TSA_TRUSTSTORE_TYPE",
        description:
            (
                <>
                    Truststore type for the certificate-based authentication of the TSA.
                    The truststore represents certification authorities or server certificates that should be considered as trusted.
                    Allowed values are:
                    <ul>
                        <li>PKCS#12</li>
                        <li>JKS</li>
                    </ul>
                </>
            ),
        default:
            (
                <>
                    <span class="badge badge--secondary">NONE</span>
                </>
            ),
        mandatory:
            (
                <>
                    <span class="badge badge--danger">NO</span>
                </>
            ),
        metadata:
            (
                <>
                    <span class="badge badge--danger">NO</span>
                </>
            )
    },
    {
        property: "TSA_TRUSTSTORE_FILEPATH",
        description:
            (
                <>
                    Absolute path to the file on the file system representing the truststore.
                </>
            ),
        default:
            (
                <>
                    <span class="badge badge--secondary">NONE</span>
                </>
            ),
        mandatory:
            (
                <>
                    <span class="badge badge--danger">NO</span>
                </>
            ),
        metadata:
            (
                <>
                    <span class="badge badge--danger">NO</span>
                </>
            )
    },
    {
        property: "TSA_TRUSTSTORE_PASSWORD",
        description:
            (
                <>
                    Password for the truststore.
                </>
            ),
        default:
            (
                <>
                    <span class="badge badge--secondary">NONE</span>
                </>
            ),
        mandatory:
            (
                <>
                    <span class="badge badge--danger">NO</span>
                </>
            ),
        metadata:
            (
                <>
                    <span class="badge badge--danger">NO</span>
                </>
            )
    }
];

export const GenTable = ({data}) => (
  <Fragment>
    {data.map((dat, i) =>{
            return(
                <tr key={i}>
                  <td><b>{dat.property}</b></td>
                  <td>{dat.description}</td>
                  <td>{dat.default}</td>
                  <td>{dat.mandatory}</td>
                  <td>{dat.metadata}</td>
                </tr>)
         })}
  </Fragment>
);

<table>
    <th>Property</th>
    <th>Description</th>
    <th>Default Value</th>
    <th>Mandatory</th>
    <th>Metadata Support</th>
  <tbody>
    <GenTable data={data}/>
  </tbody>
</table>

## TSA Authentication options

### Basic authentication

For **TSA_URL** basic authentication, the following properties are mandatory:

<table>
    <th>Property</th>
    <th>Description</th>
    <th>Default Value</th>
    <th>Mandatory</th>
    <th>Metadata Support</th>
    <tbody>
    <GenTable data={tsabasic}/>
    </tbody>
</table>

### Client certificate-based authentication

For **TSA_URL** client certificate-based authentication, the following properties are mandatory:

<table>
    <th>Property</th>
    <th>Description</th>
    <th>Default Value</th>
    <th>Mandatory</th>
    <th>Metadata Support</th>
    <tbody>
    <GenTable data={tsacertificate}/>
    </tbody>
</table>